---
layout: post
title: "初学Node.js"
category: Web前端
date: 2015-11-25 12:15
---

###nodejs安装

1.下载对应平台的安装包<https://nodejs.org/en/download/>

2.命令行里：npm -v 看下版本，顺便测试下是否可用

###nodejs程序

1.创建`hello.js`文件，写入：

```
var http = require('http');
http.createServer(function (req, response) {
	response.writeHead(200, {'Content-Type': 'text/plain'});
	response.end('Hello World\n');
}).listen(1337, "127.0.0.1");
console.log('Server running at http://127.0.0.1:1337/');
```

2.命令行`cd`到`hello.js`目录下，执行：

```
node hello.js
````
知道看到：`Server running at http://127.0.0.1:1337/`，表示成功了。复制`http://127.0.0.1:1337/`到你的浏览器里，浏览。`Hello World`映入眼帘。

3.那么结束这个进程怎么操作呢？Ctr＋c，发送一个终止信号，终止进程。或者你可以用kill，前提是你找到pid 

```
ps -ef | grep node #这是个管道命令操作，＃是shell的注释符
```

如下

```
yanshinian:~ yanshinian$ ps -ef | grep node
  501 23707 12876   0 10:04AM ttys000    0:00.16 node hello.js
  501 23949 23943   0 10:08AM ttys001    0:00.00 grep node
```

```
kill 23707 #这个数字是Pid进程id
```

4.除了使用end输出，你也可以使用.write,.write("我在北方的寒夜里四季如春")，如果你发现，浏览器浏览的是乱码，你可以把Content﹣Type对应的value改成`text/plain;charset=utf-8`。这样就搞定了。

```
response.writeHead(200, {'Content-Type': 'text/plain;charset=utf-8'});
response.write("我在北方的寒夜里四季如春")
```

>注意：你不能启动另外一个监听同一端口的Node应用程序：同一时间，同一端口，只能运行一个node应用程序。如果你的Apache工作在端口80上，你也不能在该端口启动Node程序。你必须为每一个应用使用不同的端口。

参考链接：

《Node.js 教程》<http://www.runoob.com/nodejs/nodejs-http-server.html>（建议初学者看这个网站）

《Node.js mac版安装教程》<http://www.gezila.com/tutorials/40873.html>

《Yeoman（Yo、Grunt、Bower）——前端工程化-新手之路1》<http://segmentfault.com/a/1190000002525359>

《如何系统地学习Node.js？》<http://www.zhihu.com/question/21567720>


《HTTP Content-type 对照表》<http://tool.oschina.net/commons>